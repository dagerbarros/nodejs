// ActionScript Remote Document

document.oncontextmenu = function(){//return false;
    };//Inactiva el click derecho del mouse.
document.onkeydown = function(e){//Inactiva la tecla F5.
    if(e)document.onkeypress = function(){return true;
    };var evt = e?e:event;
     //alert(evt.keyCode);
    if(evt.keyCode==116 ||evt.keyCode==505){
//        if(e)document.onkeypress = function(){
//            return false;};
//        else{
//            evt.keyCode = 0;evt.returnValue = false;
//        }
    }
    
    //if(window.event && window.event.keyCode == 116){ window.event.keyCode = 505;  } if(window.event && window.event.keyCode == 505){ return false; }
}
//Código reeamlazar una sub cadena $text = $txt.replace(/<br \/>/g,'<br h>');
function mShowSticky(msje,tipo,fijo) { 
    //Crea stiker con notificaciones al usuario.
    //Parametros: mensaje a mostrar, tipo de mensaje (success,notice,warning,error), fijo(true, false)
    $().toastmessage('showToast', {
        text: msje,
        stayTime: 700000000, 
        sticky: fijo,
        position: 'top-right',
        type: tipo
    });
}
var time='';
var $Gnomb_padreppal='';
function mSalirvent(){//Remueve la ventana actual de cada menú principal al clicar sobre salir de la ventana en cuestión
    parent.$('#ventana_actual').remove();
}
function mOcultarIconos(){
    $('#iconEliminar').hide();$('#iconImprimir').hide();$('#iconAdjuntar').hide();$('#iconAsignar').hide();$('#iconRemitir').hide()
}
function mOcultarIconProc(){
    $('#iconEliminar').hide();$('#iconImprimir').hide();$('#iconAdjuntar').hide();
}
function mOcultaIconsMenuVm(){
    $('#iconVmEliminar').hide();$('#iconVmImprimir').hide()
}
function mOcultaIconsMnuProcVm(){
    $('#iconVmEliminar').hide();$('#iconVmImprimir').hide();$('#iconVmAyuda').hide();
}
function mOcultaIconsMenuVm2(){
    $('#iconVm2Eliminar').hide();$('#iconVm2Buscar').hide();$('#iconVm2Imprimir').hide()
}
function mOcultaIconsMenuVm3(){
    $('#iconVm3Eliminar').hide();$('#iconVm3Buscar').hide();$('#iconVm3Imprimir').hide()
}
function mHideIconsMenuVmProc(){
    $('#iconVmEliminar').hide();$('#iconVmBuscar').hide();$('#iconVmImprimir').hide()
}
function mHideIconsToolGp(){
    $('#iconGuardar').hide();$('#iconVmBuscar').hide();$('#iconEliminar').hide();$('#iconImprimir').hide();
}
function mOcultarIconosForm2(){
    $('#iconBandeja').hide();$('#iconEliminar2').hide();$('#iconImprimir2').hide();$('#iconAdjuntado2').hide();$('#iconCcopia2').hide();
}
function mLimpiaForm(nomb_form,ignora_cbox) {
    //Limpia los campos de un formulario excepto los combobox que se pasen como parámetro.
    //Ejemplo: mLimpiaForm('nombre del form','los combobox a ignorar separados por comas')
    // recorremos todos los campos que tiene el formulari
    $(':input', nomb_form).each(function(){
        var type = this.type;var tag = this.tagName.toLowerCase();
        if (type == 'text' || type == 'password' || tag == 'textarea'){this.value = '';
        }else if (type == 'checkbox' || type == 'radio'){this.checked = false;// los selects le ponemos el indice a vacío
        }else if (tag == 'select'){var limpiar=true;if(ignora_cbox){limpiar = verificaSelect(this.id, ignora_cbox);}if(limpiar)this.selectedIndex = 0;
        }else if (type == 'hidden'){this.value = '';}
    })
    function verificaSelect(selector, str_selects){
        var sel = str_selects.split(',');var retornar = true;
        for(i=0;i < sel.length; i++){if(selector==sel[i]){retornar = false;break;}}
        return retornar;
    }
}
function mValidaLong(campo,cant_permitida,e,t_enter)
{
    //Valida la longitud específica de un campo textarea.
    //Parámetro:
    //	- campo         : Campo al cual se hace referencia.
    //	- cant_permitida: Es la cantidad permitida para el campo.
    //	- e             : Es la tecla pisada
    tecla = (document.all) ? e.keyCode : e.which;//se obtiene la tecla pisada.
    if(tecla!=8 && tecla!=46){//si la tecla es diferente a la de retroceso y suprimir, entra
        if (campo.value.length > cant_permitida){// es mayor entra
            campo.value = campo.value.substr(0, campo.value.length - 2); //quita el caracter ingresado demás y pinta el resto de la cedena en el campo.
            mjAlert("Disculpe, Demasiados caracteres. Solo se aceptan "+cant_permitida+" como máximo","Información del Sistema");
        }
    }
}
function mAplicarText(nombre_check,nombrecampo,delcampo){
    //Aplica el contenido de un campo a otros campos espesificados en una grilla de acuerdo a la fila chekada.
    //Parámetros: nombre_check=al nombre del Chekbox, nombrecampo=al campo en donde se copiara el datos, delcampo=el campo que tiene el dato a ser copiado
    $('input[name='+nombre_check+']:checkbox').each(function(){
        if($(this).is(':checked')){var $arrcheck = $(this).attr("id").split('_');var $campo_x = nombrecampo+'_'+$arrcheck[2];$('#'+$campo_x).val($('#'+delcampo).val());}
    });
}
function mLongCadena($nomb_campo,$long_maximo){var $retornar=false;
    if($('#'+$nomb_campo).val().length>$long_maximo){
        $retornar=true;
    }
    return $retornar;
}
function mEsNumero(valor)
{//Retorna true si el valor dado es un número. False de lo contrario.
    var $largox = valor.length;var $valor_x;
    for(i=0; i<$largox; i++){$valor_x = valor.charAt(i);if(!($valor_x>=0 && $valor_x<=9)){return false;}}return true;
}
function mValidaCampoNumero(evt)//en ejecución
{//Permite la entrada de solo números
    var nav4 = window.Event ? true : false;var key = nav4 ? evt.which : evt.keyCode;return (key < 13 || (key >= 48 && key <= 57));
}
function mValidaCampNum(evt)//en ejecución
{//Permite la entrada de solo números
    var nav4 = window.Event ? true : false;var key = nav4 ? evt.which : evt.keyCode;return (key < 13 || (key >= 48 && key <= 57));
}
function mNrosComas(evt)//en ejecución
{//Permite la entrada de solo números y comas
    var nav4 = window.Event ? true : false;var key = nav4 ? evt.which : evt.keyCode;return (key < 13 || (key >= 48 && key <= 57) || key == 44);
}
function mValidaAlfaNumero(evt)
{//Permite la entrada de solo letras, números y las teclas de dirección, retroso y suprimir
    var nav4 = window.Event ? true : false;
    var key = nav4 ? evt.which : evt.keyCode;
    return (65<=key && key<=90 || 97<=key && key<=122 || 48<=key && key<=57 || 8==key || key==0);
}
function mValidaCampoText(evt)
{//Permite la entrada de solo letras, números y las teclas de dirección, retroso y suprimir
    var nav4 = window.Event ? true : false;
    var key = nav4 ? evt.which : evt.keyCode;
    return (65<=key && key<=90 || 97<=key && key<=122 || 32<=key && key<=47 || 48<=key && key<=59 || 63==key || 64==key || 191==key || 8==key || key==0);
}
function mConvMayusculas($nomb_campo) {
    //Convierte el contenido de un campo a mayúsculas
    if($('#'+$nomb_campo).val()){
        var $cadena = $('#'+$nomb_campo).val();$('#'+$nomb_campo).val($cadena.toUpperCase());
    }
}
function mEstadoObjForm($nombre_campos,$opcion){
    //Habilita o desabilita uno o un conjunto objetos de formulario
    //$opcion:True=habilita y false=deshabilita un campo de formulario.
    var $nombres_obj=$nombre_campos.split(',');
    if($opcion==true){$opcion=false;}else{$opcion=true;}
    if($nombres_obj.length){var $i=0
        for($i; $i < $nombres_obj.length; $i++){$('#'+$nombres_obj[$i]).attr({'disabled':$opcion});}
    }
}
function capturaNombreOpcion(nombre_combo,valor){//devuelve el nombre de una opción de combobox.
    return $("#"+nombre_combo).find("option[value='"+valor+"']").text();
}
function mEstatusPersDep(valor){//Estatus de personal con respecto a su dependencia.
    var retornar;switch (valor) {case '0':retornar = 'Inactivo';break;case '1':retornar = 'Activo';break;default:retornar = 'Sin estatus';}return retornar;
}
function mNombreArchivo(){//Retorna el nombre del archivo de la ventana actual.
    var url_x = "'"+window.location;var cadena_x = url_x.substring(8);var cadena = cadena_x.split('/');return cadena[cadena.length-1];
}
function mNombDoc(path_arch){//Devuelve el nombre de un archivo ejemplo; Viene '../../Carp/archivo.xxx' y devuelve 'archivo.xxx'
    var arr = path_arch.split('/');
    for (i=0;i<arr.length;i++){var nombre = arr[i];}
    return nombre;
}
function estatusCampoF(nombre_campo,opcion){
    //opcion:True=habilita y false=deshabilita un campo de formulario.
    if(opcion==true){opcion=false;}else{opcion=true;}
    $('#'+nombre_campo).attr({'disabled':opcion});
}
function mEstatusPersona(valor){//Estatus de personal con respecto a su dependencia.
    var retornar;switch (valor) {case '0':retornar = 'Inactivo';break;case '1':retornar = 'Activo';break;default:retornar = 'Sin estatus';}return retornar;
}
function depCadena(nomb_campo)
{//depura una cadena, quita: "'{}*&%$#@_?><:+)(!¡¿=^\|[]
    var variosBlancos = /[ ]+/g;var temp_cad = '';
    temp_cad = $("#"+nomb_campo).val().replace(/^\s+|\s+$/g, "");
    temp_cad = temp_cad.replace(variosBlancos," ");
    //temp_cad = temp_cad.replace(/["'|{}*&%$#@_\?\>\<\+\)\(!/¡¿=^\\|\[\]]/g,'');
    temp_cad = temp_cad.replace(/["'|{}*&%$#@_\?\>\<\+\)\(!¡¿=^\\|\[\]]/g,'');
    $("#"+nomb_campo).val(temp_cad);
}
function desChecked(nombre_check){//Deschequéa todos los checkbox coincidentes al nombre del checkbox.
    $('input[name='+nombre_check+']:checkbox').each(function(){$(this).attr("checked",false);});
}
function mLoading(mensaje){
    $('#bloading').modal();
    $('#bloading').modal('show');
    $('#loadtitulo').html('<span class="glyphicon glyphicon-time"></span>&nbsp;&nbsp;'+mensaje);
}
function mCierraLoading(){
    $('#bloading').modal('hide');
}
function mOpenForm(forma,ancho,alto,argumento,destino,colorfondo) {
    //Habilitar seleccionar texto
    var ancho_total = $(document).width();
    var alto_total = $(document).height();    
    // Crear al div de fondo
    var div_fondo = $('<div>')
    .attr('id', '_n_u_fondo')
    .attr('style', "width: "+ancho_total+"px; height: "+alto_total+"px;")
    .appendTo('#'+destino);
    // Crear al div del formulario
    var div_from = $('<div '+'class="'+colorfondo+'">')
    .attr('id', '_n_u_form')
    .attr('style', "margin-top:-"+(alto/2)+"px; margin-left:-"+(ancho/2)+"px; height:"+alto+"px; width:"+ancho+"px;")
    .appendTo('#_n_u_fondo')
    .load(forma + '.php',argumento)
    .hide()
    .fadeIn(500);
}
function mCloseForm() {$('#_n_u_form').remove();$('#_n_u_fondo').remove();}
function mLoading2(mensaje,ruta){
    var image =  '<div id="cargando" style="color: green;"><img src="'+ruta+'shared/images/cargando2.gif" width="20" height="20">'+mensaje+'</div>';
    var ancho_total = $(document).width();
    var alto_total = $(document).height();
    // Crear al div de fondo
    var div_fondo2 = $('<div>')
    .attr('id', '_n_u_fondo_loading')
    .attr('style', "width: "+ancho_total+"px; height: "+alto_total+"px;")
    .appendTo('#div_loading');
    // Crear al div del formulario
    var div_from2 = $('<div>')
    .attr('id', '_n_u_form_loading')
    .attr('style', "margin-top:-15px;margin-left:-50px;height:25px;width:200px;")
    .appendTo('#_n_u_fondo_loading')
    .html(image);
}
function mOpenForm2(forma,ancho,alto,argumento,destino,colorfondo2) {
    //Habilitar seleccionar texto
    var ancho_total = $(document).width();
    var alto_total = $(document).height();
    // Crear al div de fondo
    var div_fondo= $('<div>')
    .attr('id', '_n_u_fondo2')
    .attr('style', "width: "+ancho_total+"px; height: "+alto_total+"px;")
    .appendTo('#'+destino);
    // Crear al div del formulario
    var div_from = $('<div '+'class="'+colorfondo2+'">')
    .attr('id', '_n_u_form2')
    .attr('style', "margin-top:-"+(alto/2)+"px;margin-left:-"+(ancho/2)+"px;height:"+alto+"px;width:"+ancho+"px;")
    .appendTo('#_n_u_fondo2')
    .load(forma + '.php',argumento)
    .hide()
    .fadeIn('fast');
}
function mCloseForm2() {$('#_n_u_form2').remove();$('#_n_u_fondo2').remove();}
function mOpenForm3(forma,ancho,alto,argumento,destino,colorfondo2) {
    //Habilitar seleccionar texto
    var ancho_total = $(document).width();
    var alto_total = $(document).height();
    // Crear al div de fondo
    var div_fondo= $('<div>')
    .attr('id', '_n_u_fondo3')
    .attr('style', "width: "+ancho_total+"px; height: "+alto_total+"px;")
    .appendTo('#'+destino);
    // Crear al div del formulario
    var div_from = $('<div '+'class="'+colorfondo2+'">')
    .attr('id', '_n_u_form3')
    .attr('style', "margin-top:-"+(alto/2)+"px;margin-left:-"+(ancho/2)+"px;height:"+alto+"px;width:"+ancho+"px;")
    .appendTo('#_n_u_fondo3')
    .load(forma + '.php',argumento)
    .hide()
    .fadeIn('fast');
}
function mCloseForm3() {$('#_n_u_form3').remove();$('#_n_u_fondo3').remove();}
function mCargaSelectBox(ruta,nombre_combo,esqema,tb_fuente,sfcampo_opcion,sfcampo_filtro,valor_filtro,opcionDefault,opcionOcultar,sfcampo_estatus,sfcampo_ordenar,select_x,fpente,cambiaOpcion,opcioncrear)
{    //Carga un combo simple.
    //nombre_combo      : Nombre del combobox a cargar.
    //tb_fuente         : Nombre de la tabla por el cual buscar.
    //esqema            : Nombre del esquema de base de datos postgres.
    //sfcampo_opcion    : La segunda parte del Nombre del campo a visializar el en combo.
    //sfcampo_filtro    : Nombre completo del campo por el cual filtra.
    //valor_filtro      : Valor id a filtrar.
    //sfcampo_estatus   : Valor estatus.
    //opcionDefault     : Opción a seleccionar por defecto.
    //opcionOcultar     : valor de la Opciones a ocultar '1' ó '1,3'.
    //ruta              : ruta del archivo a ejecutar.
  
    var objeto = {esqema:esqema,tb_fuente:tb_fuente,sfcampo_opcion:sfcampo_opcion,sfcampo_filtro:sfcampo_filtro,valor_filtro:valor_filtro,sfcampo_estatus:sfcampo_estatus,sfcampo_ordenar:sfcampo_ordenar,fpente:fpente};
    $('#'+nombre_combo).html("");var $id_x='';var $cant=0;    
    $.post(ruta+"shared/clsphp/clsCombox.php",{metodo:"mCargaCombox",parametros:JSON.stringify(objeto)},function(data){//se ejecula la búsqueda.
        if(data.filas){//si trae resultado, entra.
            $('#'+nombre_combo).append('<option value="">-Seleccione-</option>');
            if(opcioncrear){
                $('#'+nombre_combo).append('<option value="crear">-Crear-</option>');
            }
            $.each(data.filas, function(i,fila){
                $('#'+nombre_combo).append('<option value="'+fila.idx+'">'+fila.descripcion+'</option>');$id_x=fila.idx;$cant=fila.Cant;
                if(opcionDefault){$('#'+nombre_combo).val(opcionDefault);}
            });
        }else{
            $('#'+nombre_combo).append('<option value="">--No hay--</option>');
            if(opcioncrear){
                $('#'+nombre_combo).append('<option value="crear">-Crear-</option>');
            }
        }
        if(select_x){if($cant==1){opcionDefault=$id_x;}}
        if(opcionOcultar){mHideOpcionCbox(nombre_combo,opcionOcultar);}
        if(cambiaOpcion){mCambiaOpcionCbox(nombre_combo,cambiaOpcion);}
    }, "json");
}
function cargaSelectBox(ruta,nombre_combo,esqema,tb_fuente,sfcampo_opcion,sfcampo_filtro,valor_filtro,opcionDefault,opcionOcultar,sfcampo_estatus,sfcampo_ordenar,select_x,crear)
{
    //Carga un combo simple.
    //nombre_combo  : Nombre del combobox a cargar.
    //tb_fuente     : Nombre de la tabla por el cual buscar.
    //esqema        : Nombre del esquema de base de datos postgres.
    //sfcampo_opcion  : La segunda parte del Nombre del campo a visializar el en combo.
    //sfcampo_filtro  : Nombre completo del campo por el cual filtra.
    //valor_filtro  : Valor id a filtrar.
    //sfcampo_estatus : Valor estatus.
    //opcionDefault : Opción a seleccionar por defecto.
    //opcionOcultar : valor de la Opciones a ocultar '1' ó '1,3'.
    //ruta          : ruta del archivo a ejecutar.
    //if(!ruta){ruta='shared/clsphp/clsCombox.php';}else{ruta='../../';}
    var objeto = {esqema:esqema,tb_fuente:tb_fuente,sfcampo_opcion:sfcampo_opcion,sfcampo_filtro:sfcampo_filtro,valor_filtro:valor_filtro,sfcampo_estatus:sfcampo_estatus,sfcampo_ordenar:sfcampo_ordenar,opcionOcultar:opcionOcultar};
    //alert(JSON.stringify(objeto))
    $('#'+nombre_combo).html(""); var $id_x=''; var $cant=0; var $ocultaopcion=0;
    $.post(ruta+"shared/clsphp/clsCombox.php",{metodo:"mCargaCombox",parametros:JSON.stringify(objeto)},function(data){//se ejecula la búsqueda.
         if(data.filas){//si trae resultado, entra.
            if(!opcionDefault){$('#'+nombre_combo).append('<option value="">-Seleccione-</option>');}
            if(crear){$('#'+nombre_combo).append('<option value="Crear"><b>-Crear-</b></option>');}
            $.each(data.filas, function(i,fila){
                $('#'+nombre_combo).append('<option value="'+fila.idx+'">'+fila.descripcion+'</option>'); $id_x=fila.idx; $cant=fila.Cant;
                if(opcionOcultar && fila.oculta_opcion){$ocultaopcion=fila.oculta_opcion}
            });
        }else{
            $('#'+nombre_combo).append('<option value="">--No hay--</option>');
            if(crear){$('#'+nombre_combo).append('<option value="Crear"><b>-Crear-</b></option>');}
        }
        if(select_x){if($cant==1){opcionDefault=$id_x;}}
        if(opcionDefault){$('#'+nombre_combo).val(opcionDefault);}
        if(opcionOcultar){ocultaOpcionCombox(nombre_combo,opcionOcultar);}
    }, "json");
}
function mCbboxRecursivo(ruta,nombre_combo, esqema, tb_fuente, sfcampo_opcion, sfcampo_padre, sfcampo_filtro, valor_filtro, sfcampo2_filtro, valor2_filtro, rowborr)
{//Llena un combo a partir de una tabla recursiva.
/*
 *Parámetros.
 *nombre_combo   :Nombre del combobox a cargar.
 *esqema         :Nombre del esquema que contiene la tabla.
 *tb_fuente      :Nombre de la tabla a consultar
 *sfcampo_opcion :SubFijo del campo de la tabla a mostrar como opción en el combobox.
 *sfcampo_padre  :SubFijo del campo id padre.
 *sfcampo_filtro :SubFijo del campo de la tabla por el cual filtrar(Idpadre ó idppal).
 *valor_filtro   :Valor del campo filtro.
 *sfcampo2_filtro:SubFijo del campo 2 de la tabla por el cual filtrar.
 *valor2_filtro  :Valor 2 del campo filtro 2.,
 *rowborr        :True para filtrar en tablas con rowborrado.
 *con_idppal     :True para cuando en el combo se necesite el id del registro y el id padre separado por una coma.
 */
    var objeto = {esqema:esqema,tb_fuente:tb_fuente,sfcampo_opcion:sfcampo_opcion,sfcampo_padre:sfcampo_padre,sfcampo_filtro:sfcampo_filtro,valor_filtro:valor_filtro,sfcampo2_filtro:sfcampo2_filtro,valor2_filtro:valor2_filtro,rowborr:rowborr};
    $.post(ruta+"shared/clsphp/clsCombox.php",{metodo:'mCargaCboxRecursivo',parametros:JSON.stringify(objeto)},function(data){
         if(data.filas){$id=0;
            $('#'+nombre_combo).html("");
            $.each(data.filas, function(i,fila){
                if(i==0){$('#'+nombre_combo).append('<option value="">-Seleccione-</option>');}
                if(fila.id_reg==valor_filtro){
                    $id=fila.id_ppal;
                    $('#'+nombre_combo).append('<option value="'+fila.id_reg+'" selected="selected">'+fila.descripcion+'</option>');
                }else{
                    $('#'+nombre_combo).append('<option value="'+fila.id_reg+'">'+fila.descripcion+'</option>');
                }
            });
        }
        if(valor_filtro!=0){$('#'+nombre_combo).append('<option value="'+$id+'">-----Nivel Anterior-----</option>');}
    }, "json");//Fin post.
}
function mCargCboxRcsvo(ruta,nombre_combo, esqema, tb_fuente, sfcampo_opcion, sfcampo_filtro,valor_filtro, select2, sfcampo_filtro2,valor_filtro2)
{//Llena un combo a partir de una tabla recursiva. {"id_x":"110","id_ppal":"0","nombre_opcion":"Consejo Federal de Gobierno","toltick":""}
/*
 *Parámetros.
 *nombre_combo   :Nombre del combobox a cargar.
 *esqema         :Nombre del esquema que contiene la tabla.
 *tb_fuente      :Nombre de la tabla a consultar
 *sfcampo_opcion :SubFijo del campo a mostrar como opción en el combobox.
 *sfcampo_filtro :SubFijo del campo de la tabla por el cual filtrar.
 *valor_filtro   :Valor del campo filtro.
*/
    var objeto = {esqema:esqema,tb_fuente:tb_fuente,sfcampo_opcion:sfcampo_opcion,sfcampo_filtro:sfcampo_filtro,valor_filtro:valor_filtro, sfcampo_filtro2:sfcampo_filtro2,valor_filtro2:valor_filtro2};
    var $tultic='';
    $.post(ruta+"shared/clsphp/clsCombox.php",{metodo:'mCargaCboxRecurs',parametros:JSON.stringify(objeto)},function(data){
        $('#'+nombre_combo).html("");
        if(data.filas){
            $.each(data.filas, function(i,fila){
                 $tultic='title="'+fila.toltick+'" alt="' +  fila.toltick  +'"';
                if(i==0){
                    if(valor_filtro==0){
                        $('#'+nombre_combo).append('<option value="">-Seleccione-</option>');
                        $('#'+nombre_combo).append('<option value="'+fila.id_x+'"'+$tultic+'>'+fila.nombre_opcion+'</option>');
                        if(select2){$('#'+nombre_combo).select2("val","");}else{$('#'+nombre_combo).val("");}
                    }else{
                        $('#'+nombre_combo).append('<option value="'+fila.id_x+'"'+$tultic+'>'+fila.nombre_opcion+'</option>');
                        if(select2){$('#'+nombre_combo).select2("val",fila.id_x);}else{$('#'+nombre_combo).val(fila.id_x);}
                    }
                    $id_nivel_ant=fila.id_ppal;
                }else{
                    $('#'+nombre_combo).append('<option value="'+fila.id_x+'"'+$tultic+'>'+fila.nombre_opcion+'</option>');
                }
            });
        }
        if(valor_filtro!=0){
            $('#'+nombre_combo).append('<option value="'+$id_nivel_ant+'">-----Nivel Anterior-----</option>');
        }
        
    }, "json");
}
//{"id_x":"773","id_ppal":"0","nombre_opcion":"Alcald\u00eda Bolivariana del Municipio Aut\u00f3nomo Leonardo Infante","toltick":""},
//{"id_x":"761","id_ppal":"0","nombre_opcion":"Alcald\u00eda Bolivariana del Municipio Bolivariano Libertador - Dtto Capital","toltick":""}
function mToolticCheck(nombre_check){//Cambia el tooltic de los checkboxs.
    $('input[name='+nombre_check+']:checkbox').each(function(){
        if($('#'+nombreChkControl).is(':checked')){
            $(this).attr({"title":"Click para quitar selección","alt":"Click para quitar selección"});
        }else{
            $(this).attr({"title":"Click para seleccionar","alt":"Click para seleccionar"});
        }
    });
}
function mHideOpcionCbox(nombre_combo,opcionvalor){//Oculta una opción de acuerdo al valor pasado de un combo
    var opcion = '';
    if(opcionvalor.length > 1){
        opcion = opcionvalor.split(',');
        for(i=0; i < opcion.length; i++){
            $("#"+nombre_combo+" option[value='"+opcion[i]+"']").hide();
        }
    }else{
        $("#"+nombre_combo+" option[value='"+opcionvalor+"']").hide();
    }
}
function mVerOpcionCbox(nombre_combo,opcionvalor){//Visualiza una opción de acuerdo al valor pasado de un combo
    var opcion = opcionvalor.split(',');
    for(i=0; i < opcion.length; i++){
        $("#"+nombre_combo+" option[value='"+opcion[i]+"']").show();
    }
}
function mCambiaOpcionCbox($nombre_combo,$opciontext){
    //Cambia una o varios monbres de opción en combobox de acuerdo a los valores  del Objeto $opciontext. Ej:mCambiaOpcionCbox('nombre_combo',{valor:'nuevo nombre opción,...'})
    $.each($opciontext, function(id_opcion,nomb_opc){
        $("#"+$nombre_combo).find("option[value='"+id_opcion+"']").text(nomb_opc);
    })
}
function mCapturaNombOpcion(nombre_combo,$valor){//devuelve el nombre de una opción según el valor en un combobox.
    if($valor){return $("#"+nombre_combo).find("option[value='"+$valor+"']").text();}
}
function mValorOpcionCombBox($nombre_combo,$opcion){//devuelve el valor según el nombre de una opción en un combobox.
    var $retornar='';$("#"+$nombre_combo+" option").each(function(){if($(this).text()==$opcion){$retornar=$(this).val()}});return $retornar;
}
function mValorCombox(nombre_combo,posicion){//Retorna el valor de combo a la posición del valor en Value.
    if($('#'+nombre_combo).val()){
        var elemento = $('#'+nombre_combo).val().split(',');
        return elemento[posicion];
    }else{
        return '';
    }
}
function mCheckUnCheck(nombreChkControl,nombreCheckBox)//Checkea todo o descheckea todo.
{
    var $opcion = false;$('#'+nombreChkControl).attr({title:"Click para seleccionar todo",alt:"Click para seleccionar todo"});
    if($('#'+nombreChkControl).is(':checked')){
        $opcion = true;$('#'+nombreChkControl).attr({title:"Click para quitar selección a todo",alt:"Click para quitar selección a todo"});
    }
    $('input[name='+nombreCheckBox+']:checkbox').each(function(){
        if($opcion){//Nota: pro por attr 
            $(this).prop("checked",$opcion);$(this).attr({title:"Click para quitar selección",alt:"Click para quitar selección"});
        }else{
            $(this).prop("checked",$opcion);$(this).attr({title:"Click para seleccionar",alt:"Click para seleccionar"});
        }
    });
}
function mDesChecked(nombre_check){//Deschequéa todos los checkbox coincidentes al nombre del checkbox.
    $('input[name='+nombre_check+']:checkbox').each(function(){$(this).prop("checked",false);});
}
function mCheckaTodo(nombre_check){//Deschequéa todos los checkbox coincidentes al nombre del checkbox.
    $('input[name='+nombre_check+']:checkbox').each(function(){$(this).prop("checked",true);});
}
function mValorCheck(check_nombre){//retorna 1 ó 0 de acuerdo el estado de un chekbox
    var retornar;
    if($('#'+check_nombre).is(':checked')){retornar=1;}else{retornar=0;}return retornar;
}
function mCheckar(nombre_check){//checa un checkbox
    $('#'+nombre_check).prop("checked",true);
}
function mQuitaChecked(nombre_check){//descheca un checkbox en particular
    $('#'+nombre_check).prop("checked",false);
}
function mActivaOpsCbox(nombre_combo){//Activa todas las opciones de un combo de acuerdo al nombre del mismo.
    $("#"+nombre_combo+" option").show();
}
function mQuitaOpcionCbox(nombre_combo,valor){//Quila una opción de un combo de ecuerdo al nombre del y el valor de la opcion
    $("#"+nombre_combo).find("option[value='"+valor+"']").remove();
}
function mAddOpcionCombo(nombre_combo,valor,descripcion){//Agrega una opción de un combo de ecuerdo al nombre del y el valor de la opcion
    $('#'+nombre_combo).append('<option value="'+valor+'">'+descripcion+'</option>');
}
function mValorRButton(nombre_rb)//retorna el valor de un RadioButtom checado .
{var $retornar='';
    $('input[name='+nombre_rb+']:radio').each(function(){if($(this).is(':checked')){$retornar = $(this).val();}}); return $retornar;
}
function mLimpiaRbotton($nombre_rb)
{//Descheca todos los radiobutton de acuerdo al nombre del set de radiobutton.
    $('input[name='+$nombre_rb+']:radio').each(function(){$(this).prop("checked",false);});
}
function mInicRbotton(nombre_rb,valor)
{//checa un radiobotton al inicio de acuerdo al nombre y valor dado.
    $('input[name='+nombre_rb+']:radio').each(function(){if($(this).val()==valor){$(this).prop("checked",true);}});
}
function mCheckRbotton(nombre_rb,valor)
{//checa un radiobotton al inicio de acuerdo al nombre y valor dado.
    $('input[name='+nombre_rb+']:radio').each(function(){if($(this).val()==valor){$(this).prop("checked",true);}});
}
function mQuitaPuntos(cadena){//Quita los puntos en una cadena.
   return cadena.replace(/[.]/g,"");
}
function mEscapComillSenc(cadena){//Reemplaza por su similar en html y la escapa.
    var retornar='';
    if(cadena){retornar = cadena.replace(/'|'|"/g,"\\'");}
    return retornar;
}
function mReplaceComillSenc(cadena){//Reemplaza por su similar en html.
    var retornar='';
    if(cadena){retornar = cadena.replace(/'/g,"'");}
    return retornar;
}
function mReplaceComillasDxS(nombre_campo){//Reemplaza la comillas dobles por sencillas en una cadena
    if($('#'+nombre_campo).val()){
        var cadena = $('#'+nombre_campo).val();
        $('#'+nombre_campo).val(cadena.replace(/"/g,"'"));
    }
}
function mEscapComiDouble(cadena){//Escapa las comillas dobles
    return cadena.replace(/"/g,'\\"');
}
function mQuitaComillas(nombre_campo){//quita las comillas dobles y censillas de una cadena.
    var cadena = $('#'+nombre_campo).val();var cad='';
    if(cadena){cad = cadena.replace(/["']/g,'');
    $('#'+nombre_campo).val(cad);}
    return cad;
}
function mDepSpaciosCad(nomb_campo)//depura cadena con espacios demás de un campos.
{
    var variosBlancos = /[ ]+/g;var temp_cad = '';
    temp_cad = $("#"+nomb_campo).val().replace(/^\s+|\s+$/g, "");
    temp_cad = temp_cad.replace(variosBlancos," ");
    $("#"+nomb_campo).val(temp_cad);//pinta la nueva cadena sin espacios demás en el campo.
}
function mDepEspaciosCad($cad)
{//depura una cadena quitandoles espacios demás y la retorna.
    var variosBlancos = /[ ]+/g;var $temp_cad = '';$temp_cad = $cad.replace(/^\s+|\s+$/g, "");$temp_cad = $temp_cad.replace(variosBlancos," ");return $temp_cad;
}
function mDepCadena(nomb_campo)
{//depura una cadena, quita: "'{}*&%$#@_?><:+)(!¡¿=^\|[]
    var variosBlancos = /[ ]+/g;var temp_cad = '';
    if($("#"+nomb_campo).val()){
        temp_cad = $("#"+nomb_campo).val().replace(/^\s+|\s+$/g, "");
        temp_cad = temp_cad.replace(variosBlancos," ");
        temp_cad = temp_cad.replace(/["'|{}*&%$#@_\?\>\<\+\)\(!¡¿=^\\|\[\]]/g,'');
        $("#"+nomb_campo).val(temp_cad);
    }
}
// clinicastacruz@cantv.net
function mDepuraCampo($nomb_campos)
{//Quita caracteres especiales, espacios demás y enter de la cadena del o los campos de un form.
 //Ejemplo: mDepuraCampo('nombre_campo1,nombre_campo2,.....'); n campos separadors por coma
    var $obj_form=$nomb_campos.split(',');
    if($obj_form.length){var $i=0
        for($i; $i < $obj_form.length; $i++){
            if($('#'+$obj_form[$i]).val()){
                var $cadena=$('#'+$obj_form[$i]).val();
                $cadena=$cadena.replace(/([\n])/g, ' ');//Saltos de linea
                $cadena=$cadena.replace(/([\ \t]+(?=[\ \t])|^\s+|\s+$)/g, '');//Quita los blancos demás
                $cadena=$cadena.replace(/[{}*&%$@_\?\>\<\:\+\)\(!/¡¿=^\\|\[\]]/g,'');
                $('#'+$obj_form[$i]).val($cadena);
            }
        }
    }
}
function mCreaCadCheckBox(check_box){
    //crea una cadena de elementos checados de un set de checkBox.
    var $cadena = '';
    $('input[id='+check_box+']:checked').each( function(i){
        $cadena+=$(this).val()+'&';
    });
    if($cadena){$cadena=$cadena.substr(0, $cadena.length - 1);}
    return $cadena;
}
function mCreaArrayCheckBox(check_box){//crea un array de elementos checados de un set de checkBox.
    var Array_af = Array();$('input[id='+check_box+']:checked').each( function(i){Array_af[i]=$(this).val();});return Array_af;
}
function mChekaCheckBox(check_box,valor){
    //Cheka el o los elementos de un set de checkBox de acuerdo al nombre y valor pasados.
    $('input[id='+check_box+']').each( function(i){
        if($(this).val()==valor){
            $(this).attr("checked",true);
        }
    });
}
function mCbboxNumerico(nombre_combo, canthasta, cero){
    //Llena un combo con números para horas, minutos, otros con números.
    $('#'+nombre_combo).html('');
    if(cero){$('#'+nombre_combo).append('<option value="00">00</option>');}else{$('#'+nombre_combo).append('<option value="">--</option>');}
    var num='';var nro='';
    for(num=1; num<=canthasta; num++){if(num < 10){nro = '0'+num;}else{nro = num;}$('#'+nombre_combo).append('<option value="'+nro+'">'+nro+'</option>');}
}
function mValiEmail(nombre_campo){//valida Email.
    var retornar=true;
    if($("#"+nombre_campo).val().length > 1) {
        if($("#"+nombre_campo).val().indexOf('@', 0) == -1 || $("#"+nombre_campo).val().indexOf('.', 0) == -1) {
            retornar = false;
        }
    }else if(!$("#"+nombre_campo).val()){
        retornar = false;
    }
    return retornar;
}
function mFormateaNumero(num)
{//retorna un número entero de formato 1000000 A 1.000.000 etc.
    num = num.toString().replace(/\$|\,/g, '')
    if (isNaN(num)) num = "0";
    sign = (num == (num = Math.abs(num)));
    num = Math.floor(num * 100 + 0.50000000001);
    num = Math.floor(num / 100).toString();
    for (var i = 0; i < Math.floor((num.length - (1 + i)) / 3); i++) {
        num = num.substring(0, num.length - (4 * i + 3)) + '.' + num.substring(num.length - (4 * i + 3))
    }
    return (((sign) ? '' : '-') + '' + num)
}
function mPintaGenero(valor){
    var genero='';if(valor=='F'){genero='Femenino';}else{genero='Masculino';}return genero;
}
function mPreparaObj(obj)
{//Prepara un objeto Json para ser pasado por referencia
    var a='';
    if(obj.constructor==Array)
        a+='[';
    if(obj.constructor==Object)
        a+='{';
    for(var i in obj){
        if(obj[i] == null){obj[i]=""}
        if(obj.constructor!=Array)
            a+=i+':';
        if(obj[i].constructor==Object){
            mPreparaObj(obj[i]);
        }else if(obj[i].constructor==Array){
            mPreparaObj(obj[i]);
        }else if(obj[i].constructor==String){
            obj[i] = obj[i].replace(/'|&#039;/g,"\\'");obj[i] = obj[i].replace(/"/g,'&#34;');
            a+="'"+obj[i]+"',";
        }else{
            a+=obj[i]+',';
        }
    }
    if(obj.constructor==Object)
        a+='},';
    if(obj.constructor==Array)
        a+='],';
    return a.substr(0,a.length-1).split(',}').join('}').split(',]').join(']');
}
function mComparaFechas($fecha1,$fecha2)
{//Si la $fecha1 es mayor a la fecha2 devuelve true de lo contrario devuelve false
    var $retornar=false;
    $fecha1=$fecha1.split('-');$fecha2=$fecha2.split('-');
    $fecha1=new Date($fecha1[2],$fecha1[1],$fecha1[0]);
    $fecha2=new Date($fecha2[2],$fecha2[1],$fecha2[0]);
    $fecha1=$fecha1.getTime()/1000;$fecha2=$fecha2.getTime()/1000;
    if($fecha1>$fecha2){$retornar=true;}
    return $retornar;
}
function mTotalFilasTb($nombre_tb)
{//Retorna el total de filas de una tabla html
    var $retorna=0;$("#"+$nombre_tb+" tr").each(function() {$retorna++;});return $retorna;
}
function mVerifValorFila($nombre_tb,$valor)
{//Retorna true si hay coincidencias entre el id de la fila de una tabla y $valor
    var $retorna=false;$("#"+$nombre_tb+" tr").each(function() {if($(this).attr("id") == $valor){$retorna=true;}});return $retorna;
}
function mEstadoRb($nombre,$opcion)
{//Habilita o Deshabilita el set de radio button.
 //Si $opcion es True habilita, False Deshabilita.
    if($opcion==true){$opcion=false;}else{$opcion=true;}
    $.each($('input[name='+$nombre+']'),function(){$(this).attr("disabled",$opcion);});
}
function mElimFilaTabla($nombre_tb,$nombre_fila)
{//Elimina una fila de tablas Html de acuerdo al nombre de la tabla y el id fila
    $("#"+$nombre_tb+" tr").each(function() {if($(this).attr("id") == $nombre_fila){$(this).remove();}});
}
function mElimFilasHtml($cad_tr)
{//Elimina las filas html de acuerdo a los valores pasados
    var $array_tr=$cad_tr.split(',');
    $.each($array_tr,function($ind, $nombre_fila){$('#'+$nombre_fila).remove();});
}
function mIconosDoc($ext,$funcion)
{//Retorna el ícon de acuerdo a la extención del documento. odt
    $ext=$ext.toLowerCase();
    var $img='';
    if($ext=='pdf'){
       $img="../../../sharedvp/img/pdf.png";
    }else if($ext=='doc'||$ext=='docx'){
       $img="../../../sharedvp/img/doc.png";
    }else if($ext=='xls'||$ext=='xlsx'){
       $img="../../../sharedvp/img/xls.png";
    }else if($ext=='jpg' || $ext=='gif' || $ext=='png'){
       $img="../../../sharedvp/img/imagen.png";
    }else if($ext=='odt'){
       $img="../../../sharedvp/img/odt.png";
    }else{
       $img="../../../sharedvp/img/archivo_error.png";
    }
    return '<img  src="'+$img+'" class="efecto-icon" title="mostrar" alt="mostrar" onclick="'+$funcion+'"/>';  
}
// funcion nueva para jalert 19 de Noviembre de 2014       odt.png
function showMessage(tipo,mensaje){//Franja mensaje del escritoro cuando se logea
    showNotification({
        type : tipo,
        message: mensaje,autoClose: true,
        duration: 3
    });
} 
var delay=(function(){
    var timer = 0;
    return function(callback, ms) {
        clearTimeout (timer);
        timer = setTimeout(callback, ms);
    };
})();
function mCargaModal($pagina,$titulo,$ancho,$ruta,$param,$evaluador){
    
    if($evaluador){
        $('#myModal'+$evaluador).modal();
    }else{
        $('#myModal').modal();
    }
    $('#myModal').modal('show');
    $('#tituloModal').html('<b>'+$titulo+'<b>');
    if($ancho){
    $('.modal-dialog').width($ancho+'%');}
    $('#montar').html('<img id="vm_Salir" src="data:image/png;base64,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" class="efecto-icon" alt="Salir" title="Salir" data-dismiss="modal"/>');
    $('#modal').load($pagina+'.php',$param);
}
function mjConfir($mensaje,$tema,$funcion_xx){
    $tema='advertencia';
bootbox.confirm($mensaje,$funcion_xx,$tema);
}
function mjAlert($mensaje,$tema,$ruta){
    if($mensaje=='¡¡Atención!!, La Sessión a caducado'){
        bootbox.alert($mensaje,$tema);
        delay(function(){
                     $('#app').html('');
                     parent.location.href='/acceso';
                }, 1600 );
    }else{
        bootbox.alert($mensaje,$tema);
    }
}
function mjConfirp($mensaje,$ruta,$funcion_xx){
dalert.confirm($mensaje,'Confirmación de proceso',$ruta,$funcion_xx);
}
function mjAlertp($mensaje,$tema,$ruta){
dalert.alert($mensaje,'Confirmación de proceso',$tema,$ruta);
}
function mllenaCbboxPersona($ruta,$nombre_combo,$id_dependencia,$selected,$opcion_ocultar)
{//Llena un combo de personal de personalvp partir del id de una depedencia.
/*
 *Parámetros:
 *$nombre_combo  :Nombre del combo de personal a llenar.
 *$id_dependencia:Id de la dependencia por el cual filtrar.
 *$selected      :Id de la persona a seleccionar por defecto(opcional).
 *$opcion_ocultar:id de la persona a ocultar.
 */
    $.post($ruta+"shared/clsphp/clsCombox.php",{metodo:'mllenaCbboxPersona',parametros:$id_dependencia},function(data){
         if(data.filas){//si trae resultado, entra.
            $('#'+$nombre_combo).html("");
            $.each(data.filas, function($i,fila){
                if($i==0){$('#'+$nombre_combo).append('<option value="">-Seleccione-</option>');}
                $('#'+$nombre_combo).append('<option value="'+fila.id_persx+'">'+fila.nombre_pers+'</option>');
                if(fila.id_persx == $selected){$('#'+$nombre_combo).val(fila.id_persx);}
                if($opcion_ocultar){$("#"+$nombre_combo+" option[value='"+fila.id_persx+"']").hide();}
            });
        }else{
            $('#'+$nombre_combo).append('<option value="">-------</option>');
        }
    }, "json");
}
function mSalirlogin(){
       $('#app').html('');
       parent.location.href='/intranetv';
}
function mValidaFormatoFecha($campo_fecha)
{//Valida el formato de la fecha. Retorna true si es válida de lo contrario false.
    var $fecha=$('#'+$campo_fecha).val();
    var RegExPattern = /^\d{1,2}\-\d{1,2}\-\d{4}$/;
    if (($fecha.match(RegExPattern)) && ($fecha!='')) {
        var $arrfecha=$fecha.split('-');
        if($arrfecha[0].length==1){$arrfecha[0]='0'+$arrfecha[0];}
        if($arrfecha[1].length==1){$arrfecha[1]='0'+$arrfecha[1];}
        $('#'+$campo_fecha).val($arrfecha[0]+'-'+$arrfecha[1]+'-'+$arrfecha[2]);
        return true;
    } else {
        return false;
    }
}
function mBuscaDepndncia($ruta,$nombre_combo,$valores_filtro,$selected)
{//Llena un combo de acuerdo a las dependencias a pintar.
 //Parámetros.
 //$nombre_combo   :Nombre del combobox a cargar.
 //$valores_filtro :Ids de las dependencias mostrar en una cadena separadas por coma
    var objeto = {valores_filtro:$valores_filtro};
    $.post($ruta+"shared/clsphp/clsCombox.php",{metodo:'mBuscaDepndncia',parametros:JSON.stringify(objeto)},function(data){
         if(data.filas){//si trae resultado, entra.
            $('#'+$nombre_combo).html("");
            $.each(data.filas, function(i,fila){
                if(i==0){$('#'+$nombre_combo).append('<option value="">-Seleccione-</option>');}
                $('#'+$nombre_combo).append('<option value="'+fila.id_x+'">'+fila.nombre_dep+'</option>');
                if($selected==fila.id_x){$('#'+$nombre_combo).val($selected);}
            });
        }
    }, "json");
}
function vEmail(nombre_campo){//valida Email.
    var retornar=true;
    if($("#"+nombre_campo).val().length > 0) {
        if($("#"+nombre_campo).val().indexOf('@', 0) == -1 || $("#"+nombre_campo).val().indexOf('.', 0) == -1) {
            retornar = false;
        }
    }
    return retornar;
}
//Nuevo Modal
function mOpenModal(forma,ancho,alto,argumento,destino,colorfondo) {
    //Habilitar seleccionar texto
    redondear=Math.round;
    var $constante=10.71428571;
    var $ancho=(redondear(ancho/$constante));
//    var $alto=(redondear(alto/8.571428571));
    var ancho_ventppal = $(document).width();
    var alto_ventppal = $(document).height();
    // Crear al div de fondo
    var div_fondo = $('<div>')
    .attr('id', '_v_m_fondo')
    .attr('style', "width: "+ancho_ventppal+"px; height: "+alto_ventppal+"px;")
    .appendTo('#'+destino);
    // Crear al div del formulario
    var div_formx = $('<div '+'class="'+colorfondo+'">')
    .attr('id', '_v_m_form')
    .attr('style', "margin-top:-"+redondear((alto/2))+"px;margin-left:-"+redondear(($ancho/2))+"%;height:"+alto+"px;width:"+$ancho+"%;")
    .appendTo('#_v_m_fondo')
    .load(forma + '.php',argumento)
    .hide()
    .fadeIn(1000);
}
function mCloseModal() {$('#_v_m_form').remove();$('#_v_m_fondo').remove();}

function mValidaEmail($nombre_campo){//valida Email.
    var retornar=true;
    if($('#'+$nombre_campo).val()){
        var $expresion = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
        if(!$expresion.test($('#'+$nombre_campo).val())){
            retornar=false;$('#'+$nombre_campo).val('');
        }
    }
    return retornar;
}
function mLoadform(form) {
/* Funcion que lee los datos del formulario y devuelve un json con todos sus elementos y valores 
 * requerimientos todos los campos deben tener tanto id como name para poder ser evaluados por esta funcion 
 * Recibe el id del formulario si desea meter mas varibles como por ejemplo variables globales deben ser pasadas como argumento a la funcion favor pasar data asi 'variable:valor,variable:valor'
 */
    $a = '';
    $clave1 = [];
    $valores = [];
    $objeto = '';
    var dataString = $('#' + form).serialize();
    $campos = dataString.split('&');
    for (i = 0; i < $campos.length; i++) {
        $clave = '';
        $clave = $campos[i].split('=');
        $clave1.push($clave[0]);
        $valores.push($clave[1]);
        if ($('#' + $clave[0]).attr("required")) {
            if (!$('#' + $clave[0]).val()) {
                $etiqueta = $('label[for="' + $clave[0] + '"]').html();
                r = $etiqueta.split(':');
                mjAlert('Falta el valor de ' + r[0], 'advertencia');
                return;
            }
        }
    }
    $a = '';
    $a += '{';
    for (i = 0; i < $clave1.length; i++) {
        if (i + 1 == $clave1.length) {
            $a += $clave1[i] + ':' + $valores[i];
        } else {
            $a += $clave1[i] + ':' + $valores[i] + ',';
        }

    }
    $a += '}';
    return JSON.stringify($a);
}

   function mLimpiartodo(){
        $('#txt_cedula').val('');
        $('#pickfiles').hide();
        $('#uploadfiles').hide();
        $('#iconImprimir').hide();
        $encontrado='';
        $G_vidper = '';
        $FotoDesc = '';
        $('#gerencia').html('');
        $("#personaF").remove();
        $("#personaB").remove();
        $('#nombre_apellido').html('');
        $('#cedula').html('');
        $('#region').html('');
        $('#cedula2').html('');
        $('#cadu').html('');
    }